{"version":3,"file":"static/js/189.6d60afdb.chunk.js","mappings":"uJAGA,MA+BA,EA/BoBA,IAAe,IAAd,OAACC,GAAOD,EAC3B,OACEE,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SACGH,EAAOI,KAAI,CAACC,EAAOC,KAClBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,QAAOL,SAAA,EACpBF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,0BAAyBL,UACtCF,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CACHC,GAAI,UAAUL,EAAMM,GAAGC,UACvBC,MAAO,CAACC,gBAAiB,OAAOT,EAAMU,QAAQC,WAAWC,KAAKC,aAGlEX,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaL,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,OAAKO,UAAU,QAAOL,UACpBF,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CAACC,GAAI,UAAUL,EAAMM,GAAGC,UAAUT,SACpCE,EAAMU,QAAQI,WAGnBlB,EAAAA,EAAAA,KAAA,OAAKO,UAAU,OAAML,UACnBF,EAAAA,EAAAA,KAAA,QAAMO,UAAU,SAAQL,UACtBF,EAAAA,EAAAA,KAACQ,EAAAA,GAAI,CAACC,GAAI,YAAYL,EAAMU,QAAQK,YAAYjB,SAC7CE,EAAMU,QAAQM,wBAhBGf,MAuB7B,C,8GCtBP,MAgFA,EAhFegB,KAEb,MAAM,SAAEC,IAAaC,EAAAA,EAAAA,MAEdxB,EAAQyB,IAAaC,EAAAA,EAAAA,UAAS,KAI9BC,EAAeC,IAAoBF,EAAAA,EAAAA,UAAS,OAC5CG,EAASC,IAAcJ,EAAAA,EAAAA,WAAS,IAGvCK,EAAAA,EAAAA,YAAU,KAERN,EAAU,IACVO,EAAYT,GACZO,GAAW,EAAK,GAChB,CAACP,IAGH,MAAMS,EAAc,SAACC,GAA2B,IAApBC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IACtCG,EAAAA,EAAAA,GAAa,yBAAyBL,eAAmBC,KACtDK,MAAMC,IACLC,QAAQC,IAAIF,GACZZ,EAAiBY,EAAKb,eACtBF,GAAWkB,GAAe,IAAIA,KAAeH,EAAKI,SAClDd,GAAW,EAAM,IAElBe,OAAOC,IACNL,QAAQM,MAAMD,GACdhB,GAAW,EAAM,GAEvB,EAUMkB,EAAkBnB,EAAU,YAAc,WAkBhD,OACE5B,EAAAA,EAAAA,KAACgD,EAAAA,EAAI,CACH9B,MAAM,kCACN+B,YAAY,oFAAkB/C,UAC9BI,EAAAA,EAAAA,MAAA,WAASI,GAAG,aAAaH,UAAWwC,EAAgB7C,SAAA,EAClDI,EAAAA,EAAAA,MAAA,MAAAJ,SAAA,CAAI,gBAAEF,EAAAA,EAAAA,KAAA,MAAAE,SAAKoB,IAAc,oDACzBtB,EAAAA,EAAAA,KAAA,OAAKO,UAAU,sBAAqBL,UAClCF,EAAAA,EAAAA,KAACkD,EAAAA,EAAW,CAACnD,OAAQA,OAGvBC,EAAAA,EAAAA,KAAA,OAAKO,UAAU,cAAaL,SACzBwB,IACC1B,EAAAA,EAAAA,KAAA,UAAQmD,QArCKC,KAClB1B,GAEDK,EAAYT,EAAUI,EACxB,EAiCwCxB,SAAC,6BAIlC,C,gDClFJ,MAEDmD,EAAU,CACdC,OAAQ,CACNC,WAAY,MAEdC,QAAS,CACP,iBAAkBC,qDAClB,kBAAmB,+BAKVpB,EAAeqB,UAC3B,MAAM,KAACnB,SAAcoB,EAAAA,EAAMC,IAAI,sCAAe3C,IAAOoC,GAEpD,OADDb,QAAQC,IAAIF,GACJA,CAAI,C","sources":["components/videos/VideoSearch.jsx","pages/Search.jsx","utils/api.js"],"sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst VideoSearch = ({videos}) => {\r\n  return (\r\n    <>\r\n      {videos.map((video, index) => (\r\n        <div className='video' key={index}>\r\n          <div className='video__thumb play__icon'>\r\n            <Link \r\n              to={`/video/${video.id.videoId}`}\r\n              style={{backgroundImage: `url(${video.snippet.thumbnails.high.url})`}}\r\n            ></Link>\r\n          </div>\r\n          <div className='video__info'>\r\n            <div className='title'>\r\n              <Link to={`/video/${video.id.videoId}`}>\r\n                {video.snippet.title}\r\n              </Link>\r\n            </div>\r\n            <div className='info'>\r\n              <span className='author'>\r\n                <Link to={`/channel/${video.snippet.channelId}`}>\r\n                  {video.snippet.channelTitle}\r\n                </Link>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default VideoSearch","import React, { useEffect, useState } from 'react'\r\n//í˜„ì¬ ê²½ë¡œì—ì„œ searchIdíŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport Main from '../components/section/Main';\r\nimport VideoSearch from '../components/videos/VideoSearch'\r\nimport { fetchFromAPI } from '../utils/api';\r\n\r\nconst Search = () => {\r\n  //ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²€ìƒ‰ì–´ë¥¼ searchIdë¡œ ì €ì¥\r\n  const { searchId } = useParams();\r\n  //ê²€ìƒ‰ ê²°ê³¼ë¡œ ë°›ì•„ì˜¨ ë¹„ë””ì˜¤ ëª©ë¡ì„ ë‹´ì„ ìƒíƒœ\r\n  const [videos, setVideos] = useState([]);\r\n  //useEffectí›…ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë˜ê±°ë‚˜ searchIdê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ìœ íŠœë¸Œ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜´\r\n  \r\n  //ë‹¤ìŒ í˜ì´ì§€ì˜ í† í°ì„ ì €ì¥, ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œ ì‹œ ë‹¤ìŒ í˜ì´ì§€ì˜ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜´\r\n  const [nextPageToken, setNextPageToken] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  //rapid API ì‚¬ìš©\r\n  useEffect(() => {\r\n    //ê²€ìƒ‰ì–´ê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ videosìƒíƒœì™€ nextPageTokenìƒíƒœë¥¼ ì´ˆê¸°í™”, ìƒˆë¡œìš´ ê²€ìƒ‰ì–´ë¡œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆê²Œ í•¨\r\n    setVideos([]);\r\n    fetchVideos(searchId);\r\n    setLoading(true);\r\n  },[searchId]) //searchIdê°€ ë³€ê²½ë˜ë©´ useEffectí•¨ìˆ˜ í˜¸ì¶œ\r\n\r\n  //ê²€ìƒ‰ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ìƒí™”(ë§Œë“¬), query(ê²€ìƒ‰ì–´), pageToken(ë‹¤ìŒ í˜ì´ì§€ í† í°)ì„ ì¸ìë¡œ ë°›ìŒ \r\n  const fetchVideos = (query, pageToken = '') => {\r\n    fetchFromAPI(`search?part=snippet&q=${query}&pageToken=${pageToken}`)\r\n      .then((data) => {//APIìš”ì²­ ê²°ê³¼ë¥¼ dataë§¤ê°œë³€ìˆ˜ë¡œ ë°›ìŒ\r\n        console.log(data)\r\n        setNextPageToken(data.nextPageToken);//ë‹¤ìŒí˜ì´ì§€ì˜ í† í°ì„ ìƒíƒœì— ì €ì¥\r\n        setVideos((prevVideos) => [...prevVideos, ...data.items])//ë¹„ë””ì˜¤ì •ë³´ë¥¼ ìƒíƒœì— ì¶”ê°€\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {//ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì—ëŸ¬ ë©”ì‹œì§€ ì¶œë ¥\r\n        console.error(err)\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  //ë”ë³´ê¸° ë²„íŠ¼ í´ë¦­ì‹œ\r\n  const handleLoadMore = () => {\r\n    if(nextPageToken){\r\n      //nextPageTokenì´ ìˆì„ ë•Œë§Œ ì¶”ê°€ ë°ì´í„°ë¥¼ ë¡œë“œ\r\n      fetchVideos(searchId, nextPageToken);\r\n    }\r\n  }\r\n\r\n  const searchPageClass = loading ? 'isLoading' : 'isLoaded';\r\n\r\n  //youtube API ì‚¬ìš©\r\n  // useEffect(() => {\r\n  //   //5 fetchí•¨ìˆ˜ë¡œ ê²€ìƒ‰ì–´ì™€ APIí‚¤ë¥¼ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬\r\n  //   fetch(`https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=10&q=${searchId}&type=video&key=${process.env.REACT_APP_YOUTUBE_API_KEY}`)\r\n  //     //6 APIì‘ë‹µì„ JSONìœ¼ë¡œ íŒŒì‹±\r\n  //     .then(response => response.json())\r\n  //     .then(result => {\r\n  //       console.log(result);\r\n  //       //7 ê²°ê³¼ë¥¼ setVideosí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ videosìƒíƒœ ë³€ìˆ˜ì— ì €ì¥\r\n  //       setVideos(result.items)\r\n  //     })\r\n  //     //8 ì˜¤ë¥˜ ì²˜ë¦¬\r\n  //     .catch(error => console.log(error));\r\n  // }, [searchId]);\r\n\r\n\r\n  return (\r\n    <Main\r\n      title=\"ìœ íŠœë¸Œ ê²€ìƒ‰\"\r\n      description=\"ìœ íŠœë¸Œ ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì…ë‹ˆë‹¤\">\r\n      <section id='searchPage' className={searchPageClass}>\r\n        <h2>ğŸ˜Š<em>{searchId}</em> ê²€ìƒ‰ ê²°ê³¼ì…ë‹ˆë‹¤.</h2>\r\n        <div className='video__inner search'>\r\n          <VideoSearch videos={videos}/>\r\n        </div>\r\n        {/*ë”ë³´ê¸° ë²„íŠ¼ ì¶”ê°€ nextPageTokenì´ ì¡´ì¬í•  ë•Œë§Œ ë²„íŠ¼ì„ ë Œë”ë§ */}\r\n        <div className='video__more'>\r\n          {nextPageToken && (\r\n            <button onClick={handleLoadMore}>ë”ë³´ê¸°</button>\r\n          )}\r\n        </div>\r\n      </section>\r\n    </Main>\r\n  )\r\n}\r\n\r\nexport default Search","import axios from 'axios';\r\n\r\nexport const BASE_URL = 'https://youtube-v31.p.rapidapi.com'\r\n\r\nconst options = {\r\n  params: {\r\n    maxResults: '48'\r\n  },\r\n  headers: {\r\n    'x-rapidapi-key': process.env.REACT_APP_RAPID_API_KEY,\r\n    'x-rapidapi-host': 'youtube-v31.p.rapidapi.com'\r\n  }\r\n};\r\n\r\n//ì „ë‹¬ë°›ì€ ì¸ì(url)ë¥¼ ê°€ì§€ê³  apií‚¤ì™€ URLíŒŒë¼ë¯¸í„°ë¥¼ ì¡°ë¦½í•´ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ë°˜í™˜\r\nexport const fetchFromAPI = async (url) => {\r\n\tconst {data} = await axios.get(`${BASE_URL}/${url}`, options);\r\n\tconsole.log(data);\r\n  return data;\r\n}"],"names":["_ref","videos","_jsx","_Fragment","children","map","video","index","_jsxs","className","Link","to","id","videoId","style","backgroundImage","snippet","thumbnails","high","url","title","channelId","channelTitle","Search","searchId","useParams","setVideos","useState","nextPageToken","setNextPageToken","loading","setLoading","useEffect","fetchVideos","query","pageToken","arguments","length","undefined","fetchFromAPI","then","data","console","log","prevVideos","items","catch","err","error","searchPageClass","Main","description","VideoSearch","onClick","handleLoadMore","options","params","maxResults","headers","process","async","axios","get"],"sourceRoot":""}